<view class="container">
  <view class="header">
    <text class="title">表情GIF制作</text>
  </view>

  <view class="content">
    <view class="image-container">
      <image
        wx:if="{{hasImage}}"
        src="{{imagePath}}"
        mode="aspectFit"
        class="preview-image"
        bindtap="chooseImage"
      ></image>
      <view wx:else class="placeholder" bindtap="chooseImage">
        <text>点击选择图片</text>
      </view>
    </view>

    <view wx:if="{{gifPath}}" class="gif-container">
      <image
        src="{{gifPath}}"
        mode="aspectFit"
        class="gif-preview"
        bindtap="previewGif"
      ></image>
    </view>

    <view class="status-text">{{statusMessage}}</view>
  </view>

  <view class="footer">
    <button
      type="primary"
      bindtap="convertToGif"
      disabled="{{!hasImage || loading}}"
      loading="{{loading}}"
    >
      {{loading ? loadingText : '转换为GIF'}}
    </button>

    <button
      wx:if="{{gifPath}}"
      type="default"
      bindtap="saveGif"
      class="save-button"
    >
      保存到相册
    </button>
  </view>
</view>